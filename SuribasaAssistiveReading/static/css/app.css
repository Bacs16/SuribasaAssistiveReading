:root{
  --bg:#0b0f15;
  --card:#121826;
  --text:#e6edf3;
  --muted:#9aa7b2;
  --accent:#2aa198;
  --danger:#ff6b6b;
  --ok:#7bd88f;
  --outline:#7aa2f7;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu}
a{color:var(--accent);text-decoration:none}
.container{max-width:1000px;margin:24px auto;padding:0 16px}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#0a0f1a;border-bottom:1px solid #1b2534;position:sticky;top:0}
.brand a{font-weight:700;color:#cbd5e1}
nav a{margin-left:12px;color:#cbd5e1}
.grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
.card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,.25)}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid #233044;padding:8px}
.button{background:#1f2937;color:#dbeafe;border:none;border-radius:10px;padding:8px 14px;cursor:pointer}
.button.primary{background:#2563eb}
.button.danger{background:#b91c1c}
.row{display:flex;gap:12px;align-items:center;margin:8px 0}
.form textarea,.form input{width:100%;padding:8px;border-radius:8px;border:1px solid #2b3b55;background:#0e1624;color:#e2e8f0}
.flash-wrap{margin:8px 0}
.flash{padding:8px 12px;border-radius:8px;background:#0e1a2a}
.vu{background:#0e1624;border:1px solid #233044;border-radius:8px}
.passage{margin:16px 0;padding:16px;border-radius:12px;background:linear-gradient(180deg,#0e1420,#0b111b)}
.word{padding:2px 4px;margin:2px;border-radius:6px;display:inline-block}
.word.current{outline:2px solid var(--outline);outline-offset:2px}
.word.correct{background:rgba(123,216,143,0.25);color:#d7ffe0}
.word.misread{background:rgba(255,107,107,0.2);color:#ffd1d1}
.word.skipped{text-decoration:line-through;color:#ffb4b4}
.insertions{margin:10px 0;color:var(--muted)}
.dot{width:12px;height:12px;border-radius:50%;display:inline-block;margin-left:8px;background:#344155;animation:none}
.dot.active{background:#ff4d4d;animation:pulse 1s infinite}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.muted{color:var(--muted);font-size:14px}
.footer{padding:20px;color:#8fa0b3;text-align:center}
clickable { cursor: pointer; }
.error-panel { margin-top: 10px; }
.error-panel h4 { margin: 0 0 8px 0; }
.error-list { margin: 6px 0 0 16px; padding: 0; max-height: 160px; overflow: auto; }
.error-list li { margin: 2px 0; }
.button.xs { padding: .25rem .5rem; font-size: .85rem; }
.inline { display:inline; }
.passage-list { list-style: disc inside; }
.passage { position: relative; }
.follow-ring{
  position:absolute;
  pointer-events:none;
  border:2px solid #4aa3ff;
  border-radius:.6rem;
  box-shadow: 0 0 0 3px rgba(74,163,255,.15);
  transition: transform .18s ease, width .18s ease, height .18s ease, opacity .1s;
  opacity:.95;
}
#insertionLine .caret{
  display:inline-block;width:1px;height:1em;vertical-align:-0.2em;
  background:currentColor;opacity:.7;animation:blink 1s steps(1) infinite;
}
@keyframes blink{50%{opacity:0}}
.footer{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  text-align: center;
  padding: 1rem 0;
  opacity: .9;
}
/* Add bottom padding so content isn’t hidden */
main.container { padding-bottom: 60px; }

/* ✅ correct selector */
.roctic-underline-bar{
  height: 3px;
  border-radius: 3px;
  background: linear-gradient(90deg, var(--brand-1), var(--brand-2), var(--brand-3));
  margin-top: 10px;
  transform-origin: left center;
  transform: scaleX(0);
  animation: roctic-underline 1.1s ease-out .25s forwards;
  filter: drop-shadow(0 2px 8px var(--glow));
}
